# 执行过滤

在上面内容中，我们跳过了一个名为document score\(搜索结果中的\_score字段\)的小细节。score是一个数值，它是衡量文档与我们指定的搜索查询匹配程度的一个相对指标。score越高，文档越相关，score越低，文档越不相关。

但是查询并不总是需要生成score，特别是当它们只用于“过滤”文档集时。Elasticsearch检测这些情况并自动优化查询执行，以避免计算无用的score。

我们在上一节中介绍的bool查询还支持filter子句，它允许我们使用查询来限制将由其他子句匹配的文档，而不改变计算分数的方式。作为一个示例，让我们介绍范围查询，它允许我们根据一系列值筛选文档。这通常用于数字或日期筛选。

本例使用bool查询返回余额在20000到30000之间的所有帐户，包括余额。换句话说，我们希望找到余额大于或等于20000，小于或等于30000的账户：

```bash
curl -X GET "localhost:9200/bank/_search" -H 'Content-Type: application/json' -d'
{
  "query": {
    "bool": {
      "must": { "match_all": {} },
      "filter": {
        "range": {
          "balance": {
            "gte": 20000,
            "lte": 30000
          }
        }
      }
    }
  }
}
'
```

通过分析上面的内容，bool查询包含一个match\_all查询\(查询部分\)和一个range查询\(筛选部分\)。我们可以将任何其他查询替换到查询和筛选器部分中。

除了match\_all、match、bool和range查询之外，还有许多其他可用的查询类型，我们在这里不深入讨论它们。既然我们已经对它们的工作原理有了基本的了解，那么在学习和试验其他查询类型时应用这些知识应该不会太难。

